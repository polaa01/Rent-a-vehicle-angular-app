

<div class="button-container">
    <button mat-raised-button (click)="openCreateForm()">Create</button>
</div>

<app-create-vehicle *ngIf="showCreateForm" (cancel)="closeCreateForm()" [type]="selectedType">

</app-create-vehicle>



<div class="cont">
<div class="search-container">
    <input mat-input (keyup)="applyFilter($event)" placeholder="Search by model">
</div>

<div class="csv-container">
    <input type="file" (change)="onFileSelected($event)" accept=".csv">
    <button mat-raised-button (click)="uploadFile()">Upload {{type}}s</button>
    </div>

</div>

<div class="table-container">

    <table mat-table [dataSource]="dataSource">

        <ngContainer matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let element">{{element.id}}</td>
            </ngContainer>
   
       <ngContainer matColumnDef="model">
       <th mat-header-cell *matHeaderCellDef> Model </th>
       <td mat-cell *matCellDef="let element">{{element.model}}</td>
       </ngContainer>
   
       <ngContainer matColumnDef="purchasePrice">
           <th mat-header-cell *matHeaderCellDef> Price </th>
           <td mat-cell *matCellDef="let element">{{element.purchasePrice}}</td>
       </ngContainer>
   
           <ngContainer matColumnDef="vehicleId">
               <th mat-header-cell *matHeaderCellDef> Vehicle id </th>
               <td mat-cell *matCellDef="let element">{{element.vehicleId}}</td>
            </ngContainer>

   
               <ngContainer matColumnDef="description" *ngIf="type === 'car'">
                   <th mat-header-cell *matHeaderCellDef> Description </th>
                   <td mat-cell *matCellDef="let element">{{element.description}}</td>
               </ngContainer>
   
   
                   <ngContainer matColumnDef="purchaseDate" *ngIf="type === 'car'">
                       <th mat-header-cell *matHeaderCellDef> Purchase date </th>
                       <td mat-cell *matCellDef="let element">{{element.purchaseDate}}</td>
                   </ngContainer>
   
                       <ngContainer matColumnDef="maxSpeed" *ngIf="type === 'scooter'" >
                           <th mat-header-cell *matHeaderCellDef> Max Speed </th>
                           <td mat-cell *matCellDef="let element">{{element.maxSpeed}}</td>
                       </ngContainer>

                        <ngContainer matColumnDef="autonomy" *ngIf="type === 'bike'">
                            <th mat-header-cell *matHeaderCellDef> Autonomy </th>
                            <td mat-cell *matCellDef="let element">{{element.autonomy}}</td>
                        </ngContainer>

                <ngContainer matColumnDef="vehicleStatus">
               <th mat-header-cell *matHeaderCellDef> Status </th>
               <td mat-cell *matCellDef="let element">{{element.vehicleStatus}}</td>
               </ngContainer>

                        <ng-container matColumnDef="actions">
                            <th mat-header-cell *matHeaderCellDef> Actions </th>
                            <td mat-cell *matCellDef="let element">
                              <button mat-icon-button color="warn" (click)="deleteVehicle(element.id)">
                                <mat-icon>delete</mat-icon>
                              </button>
    
                              <button mat-icon-button color="warn" (click)="viewDetails(element.id)"> 
                                <mat-icon>visibility</mat-icon>
                              </button>
                            </td>
                          </ng-container>
                          
   
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
   
    </table>
    <mat-paginator [pageSize]="5" [pageSizeOptions]="[5,10,15]" showFirstLastButtons></mat-paginator>
   </div>
